{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container bg-container-dark text-light py-5" id="product-detail-container">
    <div class="row mt-2">
        <div class="col-6">
            <div class="row mt-0 mb-2">
                <div class="col-12">
                    <input type=button value="&#60; back" class="btn btn-warning m-0 py-1 text-uppercase" onClick="javascript:history.go(-1);">
                </div>
            </div>
            {% if product.image %}
                <img src="{{ product.image.url }}" class="img-fluid border border-info product-detail-img" alt="{{ product.name }}">
            {% else %}
                <img src="{{ MEDIA_URL }}noimage.png" class="img-fluid product-detail-img" alt="{{ product.name }}">
            {% endif %}
        </div>
        <div class="col-6">
            <h3>{{ product.name }}</h3>
            <h6>
                <i class="fas fa-tags"></i>
                <a href="{% url 'sub_categories' %}?category={{ product.category }}" class="text-light text-decoration-none"> {{ product.category }}</a> > 
                <a href="{% url 'products' %}?sub_category={{ product.sub_category }}" class="text-light text-decoration-none">{{ product.sub_category }}</a>
            </h6>
            <p class="text-info mb-0">{% if product.qty_in_cart > 0 %}You have {{product.qty_in_cart}} of this item in your cart!{% endif %}</p>
            {% if product_alert_qty_threshold > product.qty_held %}
                <p class="text-warning mb-0">Only <strong>{{product.qty_held}}</strong> left in stock!</p>
            {% endif %}
            <hr class="bg-light">
            <p><i>{{ product.description }}</i></p>
            {% if product.message %}
                <p><span class="text-muted">printed message: </span><span>"{{ product.message }}"</span></p>
            {% endif %}
            {% if product.age %}
                <p><span class="text-muted">for age: </span><span>{{ product.age }}</span></p>
            {% endif %}
            {% if product.color %}
                <p><span class="text-muted">color: </span><span>{{ product.color.name }}</span></p>
            {% endif %}
            {% if product.size %}
                <p><span class="text-muted">size: </span><span>{{ product.size.name }}</span></p>
            {% endif %}
            <form action="{% url 'add_product_to_cart' product.id %}" method="POST">
            {% csrf_token %}
                <div class="form-row">
                    <div class="col-12 align-content-left mb-3">
                        <div class="input-group">
                            <span class="input-group-btn">
                                <button type="button" class="quantity-left-minus btn btn-info btn-number border-info" data-type="minus"
                                    data-field="">
                                    <span class="fas fa-minus"></span>
                                </button>
                            </span>
                            <input type="text" id="qty" name="qty" class="form-control input-number text-center qty-input border-top-info border-bottom-info" value="1"
                                min="1" max="100">
                            <span class="input-group-btn">
                                <button type="button" class="quantity-right-plus btn btn-info btn-number border-info" data-type="plus"
                                    data-field="">
                                    <span class="fas fa-plus"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                    <div class="col-12 align-content-left mt-3">
                        <input type="submit" class="btn btn-warning py-1 mt-2 mb-5 text-uppercase" value="add to cart">
                    </div>
                </div>
                <input type="hidden" name="this_url" value="{{ request.get_full_path }}">
            </form>
        </div>
    </div>
</div>   
{% endblock %}
